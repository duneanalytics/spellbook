version: 2

models:
  - name: meteora_v1_solana_base_trades
    meta:
      blockchain: solana
      contributors: [ ilemi ]
    config:
      tags: [ 'solana','dex' ]
    description: >
        all meteora amm dex trades on Solana
    data_tests:
      - check_columns_solana_dex_trades
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ 'tx_id', 'outer_instruction_index', 'inner_instruction_index', 'tx_index', 'block_month' ]
  - name: meteora_v2_solana_base_trades
    meta:
      blockchain: solana
      contributors: [ ilemi, 0xsandeshk ]
    config:
      tags: [ 'solana','dex' ]
    description: >
        all meteora amm dex trades on Solana
    data_tests:
      - check_columns_solana_dex_trades
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ 'tx_id', 'outer_instruction_index', 'inner_instruction_index', 'tx_index', 'block_month' ]
          
  - name: meteora_v4_solana_base_trades
    meta:
      blockchain: solana
      contributors: [ 0xsandeshk ]
    config:
      tags: [ 'solana','dex' ]
    description: >
        all meteora dbc dex trades on Solana
    data_tests:
      - check_columns_solana_dex_trades
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ 'tx_id', 'outer_instruction_index', 'inner_instruction_index', 'tx_index', 'block_month' ]
          
  - name: meteora_v3_solana_base_trades
    meta:
      blockchain: solana
      contributors: [ 0xsandeshk ]
    config:
      tags: [ 'solana','dex' ]
    description: >
        all meteora cpamm dex trades on Solana
    data_tests:
      - check_columns_solana_dex_trades
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ 'tx_id', 'outer_instruction_index', 'inner_instruction_index', 'tx_index', 'block_month' ]

  - name: meteora_version_amm_base_trades
    meta:
      blockchain: solana
      contributors: [krishgka]
    config:
      tags: ['solana','dex']
    description: >
        meteora amm dex base trades on Solana with version_name

  - name: meteora_version_dlmm_base_trades
    meta:
      blockchain: solana
      contributors: [krishgka]
    config:
      tags: ['solana','dex']
    description: >
        meteora dlmm dex base trades on Solana with version_name

  - name: meteora_version_cpamm_base_trades
    meta:
      blockchain: solana
      contributors: [krishgka]
    config:
      tags: ['solana','dex']
    description: >
        meteora cpamm dex base trades on Solana with version_name
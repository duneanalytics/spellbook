version: 2

models:
  - name: balancer_v3_plasma_liquidity
    meta:
      blockchain: plasma
      project: balancer_v3
      contributors: joaobrunoah
    config:
      tags: ['plasma', 'balancer', 'pools', 'liquidity']
    description: >
      Balancer v3 pools liquidity by token in Plasma.
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - day
            - pool_id
            - token_address
    columns:
      - *day
      - *pool_id
      - *pool_address
      - *pool_symbol
      - *version
      - *blockchain
      - *pool_type 
      - *token_address
      - *token_symbol
      - *token_balance_raw
      - *token_balance
      - *protocol_liquidity_usd
      - *protocol_liquidity_eth
      - *pool_liquidity_usd
      - *pool_liquidity_eth      
version: 2

models:
  - name: chainlink_ccip_onramps
    meta:
      blockchain: ethereum, optimism, avalanche_c, polygon
      sector: CCIP
      project: chainlink
      contributors: synthquest
    config:
      tags: ['ethereum','optimism', 'avalanche_c', 'polygon', 'chainlink']
    description: >
        Chainlink CCIP messages sent from ethereum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - evt_index
            - evt_tx_hash
            - message
    columns:
      - &contract_address
        name: contract_address
        description: "Ethereum CCIP ramp contract address"
      - &evt_block_number
        name: evt_block_number
        description: "Block number which processed the unique transaction hash"
      - &evt_block_time
        name: evt_block_time
        description: "Timestamp for block event time in UTC"
      - &evt_index
        name: evt_index
        description: "Index value of the transaction"
      - &evt_tx_hash
        name: evt_tx_hash
        description: "Block number which processed the unique transaction hash"
      - &message
        name: message
        description: "Message included in CCIP Send Request"

  - name: chainlink_ccip_offramps
    meta:
      blockchain: ethereum, optimism, avalanche_c, polygon
      sector: CCIP
      project: chainlink
      contributors: synthquest
    config:
      tags: ['ethereum','optimism', 'avalanche_c', 'polygon', 'chainlink']
    description: >
        Chainlink CCIP messages sent to ethereum
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - evt_index
            - evt_tx_hash
            - message
    columns:
      - *contract_address
      - *evt_tx_hash
      - *evt_index
      - *evt_block_time
      - *evt_block_number
      - &messageId
        name: messageId
        description: "Unique messageId associated with CCIP tx. This will be the same ID for the tx's on both chains."
      - &returnData
        name: returnData
        description: "return data CCIP"
      - &sequenceNumber
        name: sequenceNumber
        description: "sequence CCIP"
      - &state
        name: state
        description: "state CCIP"

  
  - name: chainlink_ccip_events
    meta:
      blockchain: ethereum, optimism, avalanche_c, polygon
      sector: CCIP
      project: chainlink
      contributors: synthquest
    config:
      tags: ['ethereum','optimism', 'avalanche_c', 'polygon', 'chainlink']
    description: >
        Chainlink CCIP messages
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - evt_index
            - evt_tx_hash
            - message
    columns:
      - &origin
        name: origin
        description: "Origin chain for specific messageId tx."
      - &destination
        name: destination
        description: "destination chain for specific messageId tx."
      - &feeTokenAmount
        name: feeTokenAmount
        description: "fee paid for specific messageId tx."
      - &sender
        name: sender
        description: "send address for specific messageId tx."
      - &receiver
        name: receiver
        description: "receiver address for specific messageId tx."
      - &nonce
        name: nonce
        description: "nonce for specific messageId tx."
      - &gasLimit
        name: gasLimit
        description: "gasLimit for specific messageId tx."
      - &strict
        name: strict
        description: "strict for specific messageId tx."
      - &data
        name: data
        description: "data for specific messageId tx."
      - &destination_returnData
        name: destination_returnData
        description: "destination_returnData for specific messageId tx."
      - &tokenAmounts
        name: tokenAmounts
        description: "tokenAmounts for specific messageId tx."
      - &feeToken
        name: feeToken
        description: "feeToken for specific messageId tx."
      - &destination_state
        name: destination_state
        description: "destination_state for specific messageId tx."
      - *messageId
      - &router
        name: router
        description: "router for origin specific messageId tx."
      - &origin_contract_address
        name: origin_contract_address
        description: "origin_contract_address for specific messageId tx."
      - &destination_contract_address
        name: destination_contract_address
        description: "destination_contract_address for specific messageId tx."
      - &origin_evt_tx_hash
        name: origin_evt_tx_hash
        description: "origin_evt_tx_hash for specific messageId tx."
      - &destination_evt_tx_hash
        name: destination_evt_tx_hash
        description: "destination_evt_tx_hash for specific messageId tx."
      - &origin_evt_block_time
        name: origin_evt_block_time
        description: "origin_evt_block_time for specific messageId tx."
      - &destination_evt_block_time
        name: destination_evt_block_time
        description: "destination_evt_block_time for specific messageId tx."
      - &origin_evt_index
        name: origin_evt_index
        description: "origin_evt_index for specific messageId tx."
      - &destination_evt_index
        name: destination_evt_index
        description: "destination_evt_index for specific messageId tx."
      - &origin_evt_block_number
        name: origin_evt_block_number
        description: "origin_evt_block_number for specific messageId tx."
      - &destination_evt_block_number
        name: destination_evt_block_number
        description: "destination_evt_block_number for specific messageId tx."     
      - &destination_sequenceNumber
        name: destination_sequenceNumber
        description: "destination_sequenceNumber for specific messageId tx."
version: 2

models:
  - name: metaplex_nfts
    meta:
      blockchain: solana
      contributors: [ilemi]
    config:
      tags: ['solana','nft','mints','metadata']
    description: >
      all nfts minted on solana through Metaplex standards, using NFT, pNFT, or cNFT standards
    tests:
        - dbt_utils.unique_combination_of_columns:
            combination_of_columns:
                - token_mint_address
                - address
    columns:
      - &is_compressed
        name: is_compressed
        description: "NFT was minted using bubblegum/compression"
      - &metadata_account_id
        name: metadata_account_id
        description: "..."
      - &master_edition_id
        name: master_edition_id
        description: "..."
      - &token_mint_address
        name: token_mint_address
        description: "..."
      - &associated_token_address
        name: associated_token_address
        description: "..."
      - &token_standard
        name: token_standard
        description: "..."
      - &token_name
        name: token_name
        description: "..."
      - &token_id
        name: token_id
        description: "..."
      - &token_symbol
        name: token_symbol
        description: "..."
      - &token_uri
        name: token_uri
        description: "..."
      - &creators
        name: creators
        description: "..."
      - &seller_fee_basis_points
        name: seller_fee_basis_points
        description: "..."
      - &edition_nonce
        name: edition_nonce
        description: "..."
      - &collection_verified
        name: collection_verified
        description: "..."
      - &collection_mints
        name: collection_mints
        description: "..."
      - &uses
        name: uses
        description: "..."
      - &token_program_version
        name: token_program_version
        description: "..."
      - &tx_id
        name: tx_id
        description: "Unique transaction id value tied to each transaction on the DEX"
      - &outer_instruction_index
        name: outer_instruction_index
        description: "top level instruction index for a given transaction id"
      - &inner_instruction_index
        name: inner_instruction_index
        description: "inner instruction index for a given transaction id"
      - &tx_index
        name: tx_index
        description: "index of the transaction in the block slot"
      ###should we include minter/address?
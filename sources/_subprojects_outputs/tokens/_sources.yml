version: 2
sources:
  - name: tokens_aave_v3
    tables:
      - name: tokens
        columns:
          - name: blockchain
            data_type: varchar
          - name: atoken_address
            data_type: varbinary
          - name: underlying_address
            data_type: varbinary
          - name: atoken_decimals
            data_type: integer
          - name: side
            data_type: varchar
          - name: arate_type
            data_type: varchar
          - name: atoken_symbol
            data_type: varchar
          - name: atoken_name
            data_type: varchar


  - name: tokens_ovm_optimism
    tables:
      - name: l2_token_factory
        columns:
          - name: factory_address
            data_type: varbinary
          - name: l1_token
            data_type: varbinary
          - name: l2_token
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: name
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: call_tx_hash
            data_type: varbinary
          - name: call_block_time
            data_type: timestamp(3) with time zone
          - name: call_block_number
            data_type: bigint


  - name: tokens_the_granary_optimism
    tables:
      - name: tokens
        columns:
          - name: blockchain
            data_type: varchar
          - name: atoken_address
            data_type: varbinary
          - name: underlying_address
            data_type: varbinary
          - name: atoken_decimals
            data_type: integer
          - name: side
            data_type: varchar
          - name: arate_type
            data_type: varchar
          - name: atoken_symbol
            data_type: varchar
          - name: atoken_name
            data_type: varchar


  - name: tokens
    tables:
      - name: erc20
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer

      - name: native
        columns:
          - name: chain
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: price_symbol
            data_type: varchar
          - name: price_address
            data_type: varbinary
          - name: decimals
            data_type: integer

      - name: nft
        description: Crosschain NFT (ERC721 and ERC1155) tokens
        columns:
          - name: blockchain
            description: "The blockchain where the NFT token is deployed"
          - name: contract_address
            description: "NFT Token's contract address"
          - name: name
            description: "NFT collection name"
          - name: symbol
            description: "NFT collection symbol"
          - name: standard
            description: "NFT collection standard"
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar
      - name: rwa
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar


  - name: tokens_arbitrum
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_avalanche_c
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar
      


  - name: tokens_base
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_bnb
    tables:
      - name: bep20
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_blast
    tables:
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_celo
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft

  - name: tokens_ethereum
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: stablecoins
      - name: rebase
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar
      - name: rwa
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar


  - name: tokens_fantom
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_goerli
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft

  - name: tokens_gnosis
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_linea
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_mantle
    tables:
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_optimism
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: token_type
            data_type: varchar
          - name: token_mapping_source
            data_type: varchar
          - name: is_counted_in_tvl
            data_type: integer

      - name: erc20_bridged_mapping
        columns:
          - name: l1_token
            data_type: varbinary
          - name: l2_token
            data_type: varbinary
          - name: l1_symbol
            data_type: varchar
          - name: l1_decimals
            data_type: integer

      - name: erc20_curated
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: token_type
            data_type: varchar
          - name: token_mapping_source
            data_type: varchar

      - name: erc20_generated
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: token_type
            data_type: varchar
          - name: token_mapping_source
            data_type: varchar

      - name: erc20_transfer_source
        columns:
          - name: contract_address
            data_type: varbinary
          - name: latest_transfer
            data_type: timestamp(3) with time zone
      - name: nft
      - name: nft_bridged_mapping
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar


  - name: tokens_polygon
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_scroll
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar


  - name: tokens_zksync
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_zora
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft

  - name: tokens_worldchain
    tables:
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_yearn
    tables:
      - name: vaults
        columns:
          - name: blockchain
            data_type: varchar
          - name: block_time_created
            data_type: timestamp(3) with time zone
          - name: block_number_created
            data_type: bigint
          - name: underlying_token
            data_type: varbinary
          - name: vault_symbol
            data_type: varchar
          - name: vault_name
            data_type: varchar
          - name: vault_token
            data_type: varbinary
  
  - name: tokens_hyperevm
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_plasma
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
      - name: nft
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: prices
    tables:
      - name: tokens
  
  - name: prices
    schema: prices_v2
    tables:
      - name: trusted_tokens

  - name: prices_native
    tables:
      - name: tokens

  - name: tokens_kaia
    tables:
      - name: erc20_stablecoins
        columns:
          - name: blockchain
            data_type: varchar
          - name: contract_address
            data_type: varbinary
          - name: backing
            data_type: varchar
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer
          - name: name
            data_type: varchar

  - name: tokens_hyperevm
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer

  - name: tokens_sei
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer

  - name: tokens_monad
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer

  - name: tokens_tron
    tables:
      - name: erc20
        columns:
          - name: contract_address
            data_type: varbinary
          - name: symbol
            data_type: varchar
          - name: decimals
            data_type: integer

  # Stablecoins transfer sources for cross-project references
  - name: stablecoins_abstract
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_apechain
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_arbitrum
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_avalanche_c
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_b3
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_base
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_berachain
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_bnb
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_bob
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_boba
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_celo
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_corn
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_degen
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_ethereum
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_fantom
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_flare
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_flow
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_gnosis
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_hemi
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_henesys
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_hyperevm
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_ink
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_kaia
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_katana
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_linea
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_mantle
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_megaeth
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_monad
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_nova
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_opbnb
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_optimism
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_peaq
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_plasma
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_plume
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_polygon
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_ronin
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_scroll
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_sei
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_sepolia
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_shape
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_somnia
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_sonic
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_sophon
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_story
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_superseed
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_tac
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_taiko
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_tron
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_unichain
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_viction
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_worldchain
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_xlayer
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_zkevm
    tables:
      - name: core_transfers
      - name: extended_transfers

  - name: stablecoins_zksync
    tables:
      - name: core_transfers
      - name: extended_transfers

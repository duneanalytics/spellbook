version: 2

sources:
  - name: berachain
    description: "Decoded tables from the berachain blockchain"
    freshness:
      warn_after: { count: 12, period: hour }
      error_after: { count: 24, period: hour }
    tables:
      - name: blocks
        loaded_at_field: block_time
        description: "Block data containing timestamps, numbers, and hashes"
        columns:
          - *blockchain
          - *block_time
          - *block_number
          - *block_hash
          - *tx_count
          - *difficulty
          - *gas_limit
          - *gas_used
          - *base_fee_per_gas
          - *total_difficulty
          - *nonce
          - *miner
          - *size
          - *extra_data
          - *parent_hash
          - *sha3_uncles
          - *state_root
          - *transactions_root
          - *receipts_root
          - *withdrawals_root

      - name: transactions
        loaded_at_field: block_time
        description: "Transaction data containing details of each transaction"
        columns:
          - *blockchain
          - *block_time
          - *block_number
          - *block_hash
          - *tx_hash
          - *tx_index
          - *tx_nonce
          - *tx_success
          - *tx_from
          - *tx_to
          - *tx_value
          - *tx_gas_limit
          - *tx_gas_used
          - *tx_gas_price
          - *tx_max_fee_per_gas
          - *tx_max_priority_fee_per_gas
          - *tx_priority_fee_per_gas
          - *tx_type
          - *tx_input
          - *tx_method_id
          - *tx_method_name
          - *tx_access_list
          - *tx_status
          - *tx_contract_address

      - name: traces
        loaded_at_field: block_time
        description: "Traces data containing internal transactions and contract creations"
        columns:
          - *blockchain
          - *block_time
          - *block_number
          - *block_hash
          - *tx_hash
          - *tx_index
          - *tx_success
          - *trace_index
          - *trace_address
          - *trace_type
          - *trace_status
          - *trace_from
          - *trace_to
          - *trace_value
          - *trace_gas_limit
          - *trace_gas_used
          - *trace_input
          - *trace_output
          - *trace_error
          - *trace_contract_address

      - name: logs
        loaded_at_field: block_time
        description: "Event logs emitted by contracts"
        columns:
          - *blockchain
          - *block_time
          - *block_number
          - *block_hash
          - *tx_hash
          - *tx_index
          - *log_index
          - *contract_address
          - *topic0
          - *topic1
          - *topic2
          - *topic3
          - *topic4
          - *data 